# Тестовое задание на Rust

Необходимо реализовать простой защищенный месседжер с формированием общего защищенного ключа 2-х клиентов (алгоритм Диффи-Хелмана) и передачей защифрованных сообщений (AES). Также необходимо чтобы клиенты могли просматривать историю переписки, которая хранится в базе данных на сервере и обновляется на клиентах в real-time.

## Серверная утилита

Сервер представляет собой утилиту, которая отвечает за обработку запросов сохранения/получения сообщений из базе данных, а также связывает клиентов для формирования общего ключа. К серверу подключается 2 клиента - они должны сначала сформировать общий ключ для шифрования сообщений. Сообщения хранятся в базе данных в зашифрованном виде и шифруются/дешифруются на клиентах, общий ключ шифрования не хранится на сервере.

### Требования

- Разработать сервер с возможностями: подключение 2-х клиентов и формирования общего ключа между ними, сохранение сообщений в базе в зашифрованном виде, получение истории переписки и real-time обновление переписки. Код должен быть по возможности разбит на модули, документирован и с комментариями. Также необходимо покрыть код unit-тестами (стандартные Rust unit-тесты), в тех местах где это возможно;
- Разработать простую структуру протокола взаимодействия между клиентами и сервером поверх TCP;
- Для криптографических функций можно использовать стандартные или готовые библиотеки;
- В качестве базы данных использовать PostgreSQL, разработать структуру хранения данных сообщений. Базу данных можно удобно поднять через docker отдельным контейнером, например с использованием docker-compose, и персистентные данные базы данных хранить в файловой системе;
- Сервер должен быть в виде консольной утилиты. Необходимые конфигурационные параметры можно передавать в аргументах. Также предусмотреть режим с логированием действий на сервере и без;
- Запуск серверной утилиты (предварительно собранный релизный бинарник) должен быть в docker контейнере для удобства разворачивания;
- Составить README по сборке и запуску утилиты в docker. Составить простой cli help.

## Клиентская утилита

Клиент представляет собой консольную утилиту, которая подключается к серверу и позволяет устанавливать защищенное соединение со вторым клиентов и обмениваться шифрованными сообщениями. Также на стороне клиента хранится общий ключ: его можно храниться в персистентном key-value хранилище или sqllite. Клиент может отправить сообщение в чат и видеть историю переписки, которая обновляется в real-time. Разработать простой пользовательский интерфейс. Авторизацию клиентов можно не реализовывать.

### Требования

- Разработать клиент в виде консольной утилиты, конфигурационные параметры можно передавать в аргументах командной строки;
- Разработать функционал формирования и хранения на клиенте общего ключа шифрования. Предусмотреть в UI функцию просмотра общего сформированного ключа шифрования - показывать только sha hash ключа;
- Разработать интерактивный UI и функционал для обмена сообщениями между клиентами и просмотр истории переписки. UI должен выглядеть в виде месседжера: можно видеть историю переписки и ее обновление в реальном времени, внизу окна можно писать новое сообщение и отправлять. Идентифицировать два клиента можно по их имени, которое задается на пример при запуске клиента в аргументах командной строки; 
- Составить README по сборке и запуску. Составить простой cli help.




